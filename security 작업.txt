principalDetailsService가 UserDto에 있는 toDto()를 사용하여 userDto를 만들고 이 UserDto를 PrincipalDetails에 담아 Spring Security에 전달

PrincipalDetailsService.loadUserByUsername() 실행.
DB에서 User 엔티티를 조회.
UserDto.toDto(user) 실행. → 여기서 password가 **null**이 됩니다.
PrincipalDetails 객체 생성 시, userDto의 password는 null입니다.
Spring Security가 비밀번호 비교를 위해 **PrincipalDetails.getPassword()**를 호출.
이 메서드는 userDto.getPassword() (null)을 반환.
BCryptPasswordEncoder는 인코딩된 비밀번호가 null인 것을 보고 "Empty encoded password" 경고와 함께 인증 실패를 처리합니다.
즉, UserDto를 엔티티 변환용과 화면 출력용으로만 사용하고, 인증 과정에 사용해서는 안 됩니다. 
하지만 현재는 인증 과정에 사용되고 있으며, 이때 비밀번호가 null로 설정되어 문제가 발생한 것입니다.

수정
PrincipalDetails 생성자 수정 
-------------------------------------
로그인 상태를 유지를 위한 해결법

1. 토큰 유효시간 설정 변경 → accesstoken 짧게(30분)/ refreshtoken은 길게 7일
2. refresh token  발급 저장하기  → db에 저장하고 사용자 정보와 연결
3. 토큰 재발급 → 엔드포인트 구현 /user/reissue or /token/refresh 
	      → refresh token이 유효하면 DB에 저장된  refreshtoken 과 일치하는지 확인하고 새로운 accesstoken, refreshtoken을 발급하여 클라이언트에게 전달
4. 프론트에서 apiconfig 수정 : 만료된 access token을 감지했을 때 자동으로 재발급 요청을 보내는 로직 필요


-------------------------------
authcontext.jsx : 전역상태관리 (초기화시 토큰 유효성 검사 /user/validate 를 한 번만 수행하여 isLoggedIn 상태를 결정)
login.jsx : 사용자 입력 처리 및 로그인 요청 (/user/login만 담당 → 로그인 성공시 context의 login()함수 호출 후 리다이렉트) -> userEffect로직 제거
apiconfig.js : 모든 API 요청/응답의 공통 처리(쿠키전달, 토큰 만료시 자동 재발급)









